#!/usr/bin/env node

'use strict';

var MONGO_PROCESS = 'mongo';

var url = require('url');
var child = require('child_process');

var str = process.argv[2];

var p = url.parse(str);
var auth;
if (p.auth) auth = p.auth.split(':');

var options = {
  stdio: 'inherit'
};

var args = [(p.host || '') + p.path];
if (auth && auth[0]) {
  args.push('-u');
  args.push(auth[0]);
}
if (auth && auth[1]) {
  args.push('-p');
  args.push(auth[1]);
}
var c = child.spawn('mongo', args, options)